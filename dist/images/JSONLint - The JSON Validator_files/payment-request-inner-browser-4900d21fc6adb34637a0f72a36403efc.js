webpackJsonp([10],{7:function(e,t,n){n("hC4F"),e.exports=n("P7YZ")},P7YZ:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n("iC45"),i=n("11CF"),s=n("kSHn"),l=n("Hu9M"),u=n("x38n"),c=n("afZ+"),p=n("3z7h"),d=n("w+Lg"),h=n("Bilh"),y=n("+Sgq"),m=n("kU+X"),f=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;if(m.k)return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return s.a.resolve(!1)}),e}(),_=n("wV6Z"),g=n("B4vs"),b=n("oTrx"),v=n("ZBjb"),O=n("YU9a"),w=n("NEHP"),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(e,t){var n=e.amount,r=e.label,o=e.pending,a=t.currency;return{amount:{value:Object(_.a)(n,a),currency:a.toUpperCase()},label:r,pending:!!o}},R=function(e,t){var n=e.amount,r=e.label,o=e.detail,a=e.id,i=t.currency;return{amount:{value:Object(_.a)(n,i),currency:i.toUpperCase()},label:o?r+" â€” "+o:r,id:a}},E=function(e){return function(t){return t[e]||null}},j={total:function(e){return q(e.total,e)},displayItems:function(e){return e.displayItems?e.displayItems.map(function(t){return q(t,e)}):[]},shippingOptions:function(e,t){var n=e.shippingOptions;if(!n)return[];var r=Object(b.b)(n,function(e){return!!t&&e.id===t.shippingOption}),o=r||n[0];return n.map(function(t){var n=R(t,e);return o===t?P({},n,{selected:!0}):P({},n,{selected:!1})})}},k={requestPayerEmail:E("requestPayerEmail"),requestPayerName:E("requestPayerName"),requestPayerPhone:E("requestPayerPhone"),requestShipping:E("requestShipping"),shippingType:E("shippingType")},A=P({},j,{error:function(e){return"success"===e.status?void 0:Object(v.a)("auto","errors.payment_request.invalid_shipping_address")}}),N={status:function(e){return"success"===e.status?"success":"fail"}},C=function(e){return function(t,n){var r={};return Object.keys(e).forEach(function(o){var a=e[o],i=a(t,n);null!==i&&(r[o]=i)}),r}},S=C(j),I=C(k),M=C(N),T=function(e,t){var n=C(A)(e,t),r=n.error,a=n.shippingOptions,i=o(n,["error","shippingOptions"]);return r?P({error:r},i):P({shippingOptions:a},i)},x=function(e,t){var n=e.apiKey,o=e.accountId,a=o?n+"/"+o:n,i=Object(g.b)(a)===g.a.test?{environment:"TEST"}:{},s=t.country,l=t.jcbEnabled,u=t.__skipGooglePayInPaymentRequest,c=Object(w.b)(s,l||!1),p=[{supportedMethods:["basic-card"],data:P({},i,{supportedNetworks:c})}];if(!u){var d=Object(w.a)(s,l||!1);p=[].concat(r(p),[{supportedMethods:["https://google.com/pay"],data:P({},i,{merchantId:"09511744644598700896",apiVersion:1,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],cardRequirements:{allowedCardNetworks:d,billingAddressRequired:!0,billingAddressFormat:"FULL"},paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:publishableKey":a,"stripe:version":"Stripe.js/PayWithGoogle"}}})},{supportedMethods:["https://android.com/pay"],data:P({},i,{merchantId:"09511744644598700896",allowedCardNetworks:d,billingAddressRequired:!0,billingAddressFormat:"FULL",paymentMethodTokenizationParameters:{tokenizationType:"GATEWAY_TOKEN",parameters:{gateway:"stripe","stripe:publishableKey":a,"stripe:version":"Stripe.js/AndroidPay"}}})}])}return m.c&&(p=[].concat(r(p),[{supportedMethods:["ms-merchant-info"],data:{displayOrigin:document.referrer}}])),p},B=function(e,t,n){var r=P({},O.c,t);return{methods:x(e,r),details:S(r,n),options:I(r,n)}},L=B,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=function(e){if(e&&"object"===(void 0===e?"undefined":z(e))&&Array.isArray(e.addressLine)){return{address_line1:e.addressLine[0],address_line2:e.addressLine.slice(1).join(", "),address_city:e.city,address_zip:e.postalCode,address_state:e.region,address_country:e.country}}return{}},Y=function(e){return e?String(e):null},D=function(e){if(e&&"object"===(void 0===e?"undefined":z(e))&&e.address1){var t=[e.address2,e.address3,e.address4,e.address5].filter(function(e){return e}).join(", ");return{line1:Y(e.address1),line2:t||null,city:Y(e.locality),postal_code:Y(e.postalCode),state:Y(e.administrativeArea),country:Y(e.countryCode)}}return null},K=function(e){return{addressLine:e.addressLine,city:e.city||"",country:e.country||"",dependentLocality:e.dependentLocality||"",organization:e.organization||"",phone:e.phone||"",postalCode:e.postalCode||"",recipient:e.recipient||"",region:e.region||"",sortingCode:e.sortingCode||""}},U=function(e,t){return{shippingOption:t.shippingOptions?t.shippingOptions.filter(function(t){return t.id===e.shippingOption})[0]||null:null,shippingAddress:e.shippingAddress?K(e.shippingAddress):null,payerEmail:e.payerEmail||null,payerPhone:e.payerPhone||null,payerName:e.payerName||null,methodName:e.methodName}},Z=function(e,t){return{shippingOption:e.shippingOption&&t.shippingOptions?t.shippingOptions.filter(function(t){return t.id===e.shippingOption})[0]||null:null,shippingAddress:e.shippingAddress||null}},W=U,G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J=Object(a.v)({authentication:Object(a.v)({apiKey:a.x,accountId:Object(a.t)(a.x)}),mids:Object(a.t)(p.a),controllerId:a.x,origin:Object(a.t)(a.x),referrer:Object(a.t)(a.x)}),V=function(){function e(e){var t=this;X.call(this);var n=Object(a.D)(J,Object(i.a)(e),"Payment Request API"),r=n.value,o=n.warnings,s=r.controllerId,l=r.authentication,u=r.mids;this._authentication=l,this._mids=u||null,this._controller=new h.a(s),this._isShowing=!1,this._usesButtonElement=null,o.forEach(function(e){return t._controller.warn(e)}),this._controller._on("initialize",function(e){var n=Object(a.D)(y.a,e,"Payment Request API"),r=n.value;n.warnings.forEach(function(e){return t._controller.warn(e)});var o=G({},O.c,r,{status:O.a.success});t._setupPaymentRequest(o)}),this._controller._on("frame-action",function(e){var n=e.type,r=e.complete;switch(n){case O.d.CAN_MAKE_PAYMENT:if(t._pr){var o=function(e){t._report("pr.browser.can_make_payment_response",{available:e}),t._legacyReport("payreq.can_make_payment_native_response",{available:e}),r({available:e})},a=function(e){t._controller.warn("We were rate-limited from checking if your requested Payment Request options are allowed. Please test again before going live."),t._report("error.pr.browser.can_make_payment_rate_limited",{error:e}),t._legacyReport("error.payreq.can_make_payment_rate_limited",{message:e.message}),r({available:!0})};t._pr.hasEnrolledInstrument?t._pr.hasEnrolledInstrument().then(o).catch(a):t._pr.canMakePayment().then(o).catch(a)}else r({available:!1})}}),this._controller.event("load")}return H(e,[{key:"_setupPaymentRequest",value:function(e){var t=this;this._pr=null,this._isShowing&&(this._controller.event("pr-close"),this._isShowing=!1),this._controller._off("abort"),this._controller._off("show"),this._controller._off("update"),this._paymentRequestOptions=e;var n=L(this._authentication,this._paymentRequestOptions,null),r=n.details,o=n.options,i=n.methods;if(f)try{this._pr=new f(i,r,o)}catch(e){}var s=void 0;if(!this._pr)return void this._legacyReport("payreq.no_pr_object");s=this._pr,["shippingaddresschange","shippingoptionchange"].forEach(function(e){s.addEventListener(e,t._handleEvent(s,e))});var c=function(){return s.abort()},p=function(e){if(t._usesButtonElement=e.usesButtonElement,t._isShowing)throw new u.a("Already called show() once.");t._isShowing=!0,s.show().then(t._handlePayment(s)).then(l.b,t._handleCancel(s)).then(function(){t._setupPaymentRequest(t._paymentRequestOptions)}).catch(function(e){t._legacyReport("fatal.payreq.unexpected_error",{error:e.message})})},d=function(e){if(t._isShowing)throw new u.a("You cannot update Payment Request options while the payment sheet is showing.");var n=Object(a.D)(y.b,e,"Payment Request API"),r=n.value;n.warnings.forEach(function(e){return t._controller.warn(e)});var o=G({},t._paymentRequestOptions,r);t._setupPaymentRequest(o)};this._controller._on("abort",c),this._controller._on("show",p),this._controller._on("update",d)}}]),e}(),X=function(){var e=this;this._report=function(t,n){e._controller.report(t,G({},n,{backingLibrary:"BROWSER",usesButtonElement:e._usesButtonElement}))},this._legacyReport=function(t,n){e._controller.report(t,G({},n,null!==e._usesButtonElement?{usesButtonElement:e._usesButtonElement}:{},{impl:"prapi"}))},this._handleEvent=function(t,n){return function(r){r.updateWith(e._controller.waitForCallback(n,Z(t,e._paymentRequestOptions)).then(function(r){var o=Object(a.D)(y.c,r,n+" callback"),i=o.value;return o.warnings.forEach(function(t){return e._controller.warn(t)}),e._paymentRequestOptions=G({},e._paymentRequestOptions,i),T(e._paymentRequestOptions,t)}))}},this._handleCancel=function(){return function(t){e._controller.event("pr-cancel"),e._legacyReport("payreq.show_rejected",{error:t.message})}},this._handlePayment=function(t){return function(n){e._legacyReport("payreq.paymentauthorized",{method:n.methodName});var r=void 0;if("basic-card"===n.methodName){var o=n.details,i=o.cardNumber,s=o.cardSecurityCode,l=o.cardholderName,u=o.expiryMonth,p=o.expiryYear;r=e._controller.unsafeAction(d.d.TOKENIZE,G({},F(o.billingAddress),{type:"card",name:l,email:n.payerEmail||void 0,card:{number:i,cvc:s,exp_year:p,exp_month:u},elementName:e._usesButtonElement?c.a.paymentRequestButton:void 0,mids:e._mids})).then(function(t){if("object"===t.type){var r=t.object;return e._controller.waitForCallback("token",G({},W(n,e._paymentRequestOptions),{token:r}))}return e._controller.event("pr-error",{error:t.error}),{status:"fail"}})}else if("https://google.com/pay"===n.methodName)r=e._controller.waitForCallback("token",G({},W(n,e._paymentRequestOptions),{token:JSON.parse(n.details.paymentMethodToken.token),__googlePayBillingAddress:D(n.details.cardInfo.billingAddress)}));else{if("https://android.com/pay"!==n.methodName)throw e._legacyReport("fatal.payreq.unexpected_payment_method",{method:n.methodName}),new Error("Unexpected PaymentRequest payment method: "+n.methodName);r=e._controller.waitForCallback("token",G({},W(n,e._paymentRequestOptions),{token:JSON.parse(n.details.paymentMethodToken),__googlePayBillingAddress:D(n.details.billingAddress)}))}return r.then(function(r){var o=Object(a.D)(y.c,r,"complete callback"),i=o.value;o.warnings.forEach(function(t){return e._controller.warn(t)}),e._paymentRequestOptions=G({},e._paymentRequestOptions,i);var s=M(e._paymentRequestOptions,t);n.complete(s.status)})}}},Q=V;!function(){var e=window.location.hash.substring(1).split("?")[0];new Q(e)}()}},[7]);